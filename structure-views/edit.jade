doctype html
html(ng-app='JSONedit')
    head
        script(src='/assets/bower_components/jquery/dist/jquery.min.js')
        script(src='/assets/bower_components/jquery-ui/jquery-ui.min.js')
        script(src='/assets/bower_components/angular/angular.min.js')
        script(src='/assets/bower_components/angular-ui-sortable/sortable.min.js')
        link(href='/assets/bower_components/bootstrap/dist/css/bootstrap.min.css', rel='stylesheet', type='text/css')
        script(src='/assets/scripts/vendor/JSONeditDirectives.js')
        script(src='/assets/scripts/vendor/JSONedit.js')
        link(href='/assets/styles/vendor/JSONedit.css', rel='stylesheet', type='text/css')
    body
        #mainView(ng-controller='MainViewCtrl')
            h2 Edit content
            .jsonView
                json(child='jsonData', default-collapsed='false', type='object')
            hr
            div
                textarea#jsonTextarea(ng-model='jsonString')
                span.red(ng-if='!wellFormed') JSON not well-formed!
            .actions
                button(ng-click="undo()").btn.btn-link.pull-left Undo
                button(ng-click="saveFile()").btn.btn-success.pull-left Save
            .msg
            .back
                a(href=link) Go to the correspondent page

        - var jsonString = JSON.stringify(jsonContent)
        script.
            var jsonToEdit = !{jsonString},
                jsonToUndo = !{jsonString};